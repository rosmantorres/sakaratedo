
ALTER TABLE ASISTENCIA
ADD CONSTRAINT ASISTENCIA_COMPETENCIA_FK FOREIGN KEY
(
COMPETENCIA_comp_id
)
REFERENCES COMPETENCIA
(
comp_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE ASISTENCIA
ADD CONSTRAINT ASISTENCIA_INSCRIPCION_FK FOREIGN KEY
(
INSCRIPCION_ins_id
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE ASISTENCIA
ADD CONSTRAINT ASISTENCIA_EVENTO_FK FOREIGN KEY
(
EVENTO_eve_id
)
REFERENCES EVENTO
(
eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO


ALTER TABLE COMPETENCIA
ADD CONSTRAINT COMPETENCIA_CATEGORIA_FK FOREIGN KEY
(
CATEGORIA_comp_id
)
REFERENCES CATEGORIA
(
cat_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE COMPETENCIA
ADD CONSTRAINT COMPETENCIA_ORGANIZACION_FK FOREIGN KEY
(
ORGANIZACION_comp_id
)
REFERENCES ORGANIZACION
(
org_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE COMPETENCIA
ADD CONSTRAINT COMPETENCIA_UBICACION_FK FOREIGN KEY
(
UBICACION_comp_id
)
REFERENCES UBICACION
(
ubi_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE COMPRA_CARRITO
ADD CONSTRAINT COMPRA_CARRITO_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE COMPRA_CARRITO
ADD
CHECK ( com_estado IN ('CARRITO','PAGADO') )
GO

ALTER TABLE COMPRA_CARRITO
ADD
CHECK ( com_tipo_pago IN ('Tarjeta','Deposito','Transferencia') )
GO

ALTER TABLE DETALLE_COMPRA
ADD CONSTRAINT DETALLE_COMPRA_COMPRA_CARRITO_FK FOREIGN KEY
(
COMPRA_CARRITO_com_id
)
REFERENCES COMPRA_CARRITO
(
com_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DETALLE_COMPRA
ADD CONSTRAINT DETALLE_COMPRA_EVENTO_FK FOREIGN KEY
(
EVENTO_eve_id
)
REFERENCES EVENTO
(
eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DETALLE_COMPRA
ADD CONSTRAINT DETALLE_COMPRA_IMPLEMENTO_FK FOREIGN KEY
(
IMPLEMENTO_inv_id
)
REFERENCES IMPLEMENTO
(
imp_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DETALLE_COMPRA
ADD CONSTRAINT DETALLE_COMPRA_MATRICULA_FK FOREIGN KEY
(
MATRICULA_mat_id,
MATRICULA_per_id,
MATRICULA_doj_id
)
REFERENCES MATRICULA
(
mat_id ,
PERSONA_per_id ,
DOJO_doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DISEÑO
ADD CONSTRAINT DISEÑO_PLANILLA_FK FOREIGN KEY
(
PLANILLA_pla_id
)
REFERENCES PLANILLA
(
pla_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DOJO
ADD CONSTRAINT DOJO_ORGANIZACION_FK FOREIGN KEY
(
ORGANIZACION_org_id
)
REFERENCES ORGANIZACION
(
org_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE DOJO
ADD CONSTRAINT DOJO_UBICACION_FK FOREIGN KEY
(
UBICACION_ubi_id
)
REFERENCES UBICACION
(
ubi_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EMAIL
ADD CONSTRAINT EMAIL_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EVENTO
ADD CONSTRAINT EVENTO_CATEGORIA_FK FOREIGN KEY
(
CATEGORIA_cat_id
)
REFERENCES CATEGORIA
(
cat_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EVENTO
ADD CONSTRAINT EVENTO_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EVENTO
ADD CONSTRAINT EVENTO_HORARIO_FK FOREIGN KEY
(
HORARIO_hor_id
)
REFERENCES HORARIO
(
hor_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EVENTO
ADD CONSTRAINT EVENTO_TIPO_EVENTO_FK FOREIGN KEY
(
TIPO_EVENTO_tip_id
)
REFERENCES TIPO_EVENTO
(
tip_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE EVENTO
ADD CONSTRAINT EVENTO_UBICACION_FK FOREIGN KEY
(
UBICACION_ubi_id
)
REFERENCES UBICACION
(
ubi_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE HISTORIAL_CINTAS
ADD CONSTRAINT HISTORIAL_CINTAS_CINTA_FK FOREIGN KEY
(
CINTA_cin_id
)
REFERENCES CINTA
(
cin_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE HISTORIAL_CINTAS
ADD CONSTRAINT HISTORIAL_CINTAS_EVENTO_FK FOREIGN KEY
(
EVENTO_eve_id
)
REFERENCES EVENTO
(
eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE HISTORIAL_CINTAS
ADD CONSTRAINT HISTORIAL_CINTAS_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE HISTORIAL_MATRICULA
ADD CONSTRAINT HISTORIAL_MATRICULA_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESULTADO_ASCENSO
ADD CONSTRAINT RESULTADO_ASCENSO_INSCRIPCION_FK FOREIGN KEY
(
INSCRIPCION_ins_id
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESULTADO_KATA
ADD CONSTRAINT RESULTADO_KATA_INSCRIPCION_FK FOREIGN KEY
(
INSCRIPCION_ins_id
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESULTADO_KUMITE
ADD CONSTRAINT RESULTADO_KUMITE_INSCRIPCION1_FK FOREIGN KEY
(
INSCRIPCION_ins_id1
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESULTADO_KUMITE
ADD CONSTRAINT RESULTADO_KUMITE_INSCRIPCION2_FK FOREIGN KEY
(
INSCRIPCION_ins_id2
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE INSCRIPCION
ADD CONSTRAINT INSCRIPCION_COMPETENCIA_FK FOREIGN KEY
(
COMPETENCIA_comp_id
)
REFERENCES COMPETENCIA
(
comp_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE INSCRIPCION
ADD CONSTRAINT INSCRIPCION_EVENTO_FK FOREIGN KEY
(
EVENTO_eve_id
)
REFERENCES EVENTO
(
eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE INSCRIPCION
ADD CONSTRAINT INSCRIPCION_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO


ALTER TABLE INVENTARIO
ADD CONSTRAINT INVENTARIO_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE INVENTARIO
ADD CONSTRAINT INVENTARIO_IMPLEMENTO_FK FOREIGN KEY
(
IMPLEMENTO_imp_id
)
REFERENCES IMPLEMENTO
(
imp_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE MATRICULA
ADD CONSTRAINT MATRICULA_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE MATRICULA
ADD CONSTRAINT MATRICULA_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE ORGANIZACION_CINTA
ADD CONSTRAINT ORGANIZACION_CINTA_CINTA_FK FOREIGN KEY
(
CINTA_cin_id
)
REFERENCES CINTA
(
cin_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE ORGANIZACION_CINTA
ADD CONSTRAINT ORGANIZACION_CINTA_ORGANIZACION_FK FOREIGN KEY
(
ORGANIZACION_org_id
)
REFERENCES ORGANIZACION
(
org_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE ORGANIZACION
ADD CONSTRAINT ORGANIZACION_ESTILO_FK FOREIGN KEY
(
ESTILO_est_id
)
REFERENCES ESTILO
(
est_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PERSONA
ADD CONSTRAINT PERSONA_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PERSONA_ROL
ADD CONSTRAINT PERSONA_ROL_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PERSONA_ROL
ADD CONSTRAINT PERSONA_ROL_ROL_FK FOREIGN KEY
(
ROL_rol_id
)
REFERENCES ROL
(
rol_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PLANILLA
ADD CONSTRAINT PLANILLA_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PLANILLA
ADD CONSTRAINT PLANILLA_TIPO_PLANILLA_FK FOREIGN KEY
(
TIPO_PLANILLA_tip_id
)
REFERENCES TIPO_PLANILLA
(
tip_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PLA_DAT
ADD CONSTRAINT PLA_DAT_DATO_FK FOREIGN KEY
(
DATO_dat_id
)
REFERENCES DATO
(
dat_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE PLA_DAT
ADD CONSTRAINT PLA_DAT_PLANILLA_FK FOREIGN KEY
(
PLANILLA_pla_id
)
REFERENCES PLANILLA
(
pla_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RC_CINTA
ADD CONSTRAINT RC_CINTA_CINTA_FK FOREIGN KEY
(
CINTA_cin_id
)
REFERENCES CINTA
(
cin_id
)
ON
DELETE
  CASCADE ON
UPDATE NO ACTION
GO


ALTER TABLE RC_CINTA
ADD CONSTRAINT RC_CINTA_RESTRICCION_COMPETENCIA_FK FOREIGN KEY
(
RESTRICCION_COMPETENCIA_res_com_id
)
REFERENCES RESTRICCION_COMPETENCIA
(
res_com_id
)
ON
DELETE
  CASCADE ON
UPDATE NO ACTION
GO

ALTER TABLE REGLAMENTO
ADD CONSTRAINT REGLAMENTO_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE CASCADE ON
UPDATE NO ACTION
GO

ALTER TABLE RELACION
ADD CONSTRAINT RELACION_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RELACION
ADD CONSTRAINT RELACION_PERSONA_FKv1 FOREIGN KEY
(
PERSONA_per_id1
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESTRICCION_CINTA
ADD CONSTRAINT RESTRICCION_CINTA_CINTA_FK FOREIGN KEY
(
CINTA_cin_id
)
REFERENCES CINTA
(
cin_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RESTRICCION_EVENTO
ADD CONSTRAINT RESTRICCION_EVENTO_EVENTO_FK FOREIGN KEY
(
EVENTO_eve_id
)
REFERENCES EVENTO
(
eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RH_CINTA
ADD CONSTRAINT RH_CINTA_CINTA_FK FOREIGN KEY
(
CINTA_cin_id
)
REFERENCES CINTA
(
cin_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE RH_CINTA
ADD CONSTRAINT RH_CINTA_RESTRICCION_EVENTO_FK FOREIGN KEY
(
RESTRICCION_EVENTO_res_eve_id
)
REFERENCES RESTRICCION_EVENTO
(
res_eve_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE SOLICITUD_INSCRIPCION
ADD CONSTRAINT SOLICITUD_INSCRIPCION_DOJO_FK FOREIGN KEY
(
DOJO_doj_id
)
REFERENCES DOJO
(
doj_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE SOLICITUD_INSCRIPCION
ADD CONSTRAINT SOLICITUD_INSCRIPCION_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE SOLICITUD_PLANILLA
ADD CONSTRAINT SOLICITUD_PLANILLA_PLANILLA_FK FOREIGN KEY
(
PLANILLA_pla_id
)
REFERENCES PLANILLA
(
pla_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE SOLICITUD_PLANILLA
ADD CONSTRAINT SOLICITUD_PLANILLA_INSCRIPCION_FK FOREIGN KEY
(
INSCRIPCION_ins_id
)
REFERENCES INSCRIPCION
(
ins_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO


ALTER TABLE TELEFONO
ADD CONSTRAINT TELEFONO_PERSONA_FK FOREIGN KEY
(
PERSONA_per_id
)
REFERENCES PERSONA
(
per_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE TIPO_PERIODO
ADD CONSTRAINT TIPO_PERIODO_RESTRICCION_CINTA_FK FOREIGN KEY
(
RESTRICCION_CINTA_res_cin_id
)
REFERENCES RESTRICCION_CINTA
(
res_cin_id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE COMP_REST_COMP
ADD CONSTRAINT COMPETENCIA_FK FOREIGN KEY
(
COMPETENCIA_comp_id
)
REFERENCES COMPETENCIA
(
comp_id
)
ON
DELETE
  CASCADE ON
UPDATE NO ACTION
GO

ALTER TABLE COMP_REST_COMP
ADD CONSTRAINT REST_COMPET_FK FOREIGN KEY
(
RESTRICCION_COMPETENCIA_res_com_id
)
REFERENCES RESTRICCION_COMPETENCIA
(
res_com_id
)
ON
DELETE
  CASCADE ON
UPDATE NO ACTION
GO
